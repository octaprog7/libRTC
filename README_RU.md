# libRTC
Библиотека для MicroPython, дающая возможность управлять часами реального времени (RTC).
В данный момент содержит модули ds3231mod, PCF8563mod для управления RTC DS3231 и PCF8563 соответственно. 

## Подготовка
Просто подключите плату с RTC к Arduino, ESP или любой другой плате с прошивкой MicroPython.
Выводы для подключения:
 
1. VCC
2. GND
3. SDA
4. SCL

Внимание! Напряжение питания DS3231 3,3 В или 5 В! Если вы используете литиевую (Li-Ion) резервную батарею CR2032, 
питайте плату DS3231 только от 3,3 В! Если напряжение питания будет больше 3,3 В, Li-Ion батарея СR2032, со временем, 
станет непригодной для использования из-за схемы зарядки, расположенной на плате.

Загрузите прошивку MicroPython в плату NANO(ESP и т. д.), а затем файлы: main.py, ds3231mod.py, PCF8563mod.py и 
папку sensor_pack_2 полностью. Затем откройте main.py в вашей IDE и запустите его.

### Выбор RTC в коде программы
Установи clock_ds3231 в 0, если у тебя плата с DS3231. 
Установи clock_ds3231 в 1, если у тебя плата с PCF8563.

# Итерфейс управления
Описан методами классов IRTC, IRTCwAlarms. Естественно есть и уникальные методы.

# Точность 'хода' часов
Зависит от:
* качества кварцевого резонатора.
* колебаний температуры окружающей среды.
* возраста кристалла кварца — со временем резонансная частота незначительно снижается.

ПС. Не забывайте про 'качество' напряжения, питающего RTC! 

## Для любителей пайки
В папке hardware/rtc_bq32000, находится проект платы RTC на основе BQ32000, созданный в KiCad 8.0.8.

# Фото
## Макетная плата
![alt text](https://github.com/octaprog7/libRTC/blob/master/pics/dual_rtc.jpg)
## Прерывание от RTC обработано
![alt text](https://github.com/octaprog7/libRTC/blob/master/pics/8563_irq_handled.png)

# Тесты: часы реального времени – DS3231 / PCF8563 / MCP79400 / DS1307
https://www.switchdoc.com/2014/12/benchmarks-realtime-clocks-ds3231-pcf8563-mcp79400-ds1307/

